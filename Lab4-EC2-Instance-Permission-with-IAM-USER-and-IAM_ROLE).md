# Stablishing Permission with IAM_USER(Risky) as well as IAM_ROLE(Best Practice)

## Permission with IAM_USER
- Goto IAM Dashboard
- Click on the *USERS* from left Navigation Menu
- Click on **Add User**
- Enter the following details and permissions
    + **User Name** - Enter the user name
    + **Access type** - *Give Programmatic access and AWS Management Console Access* as per your need
    + *By Default Autogenerated Password will be selected* 
    + Uncheck the *Require Password Reset* (Optinal)
- Click on Next: Permissions
- Select ***Attach existing policies directly*** to give direct access to any AWS Services(Policy)
- Select the required policy and click on Next: Tags (Optional to add tags)
- Click on Next: Review and then *Create User*
- Click on ***Download .CSV*** or copy paste the *Access Key ID* and *Secret Access Key* to notepad for future use

---------------------------------------------------------------------------------------
- ***Follow the LAB1 Steps, create and Run Linux EC2 instance in your local machine***
---------------------------------------------------------------------------------------

+ ***NOTE: Amazon Linux 2 AMI EC2 instance will have pre-installed all the AWS Commands***

- Enter the following command to create a new Bucket in your EC2 instance
```console
aws s3 ls
```
+ Now this command will result in ***Unable to locate credentials***

- To congigure the credentials use the following command: -
```console
aws configure
```
- Now fill out the following informations
+ **AWS Access Key ID** - *Enter the user Access Key Id from .csv file*
+ **AWS Secret Access Key** - *Enter the Secret Access Key from .csv file*
+ **Default region name** - *Name of the region in which you created your EC2 instance*
+ **Default output format** - *optional (By default it is in JSON format)*

- Again enter the command
```console
aws s3 ls - to list out the buckets
aws s3 mb s3://ec2-new-bucket - to add a new bucket
```
- Now you all the buckets available in EC2 instance will be displayed
+ `NEVER EVER USE THIS METHOD TO GIVE PERMISSION TO A USER(Risky to expose your Access Key)`
- Using the following command anyone who gets the access to use your ec2 instance will able to gain your access key
```console
cat ~/.aws/credentials
```
- To remove the credentials from the AWS Configuration use the following command
```console
rm ~/.aws/credentials
```

### Better Approach and AWS Best Practice is to use IAM_ROLES